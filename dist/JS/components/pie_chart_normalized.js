function _extends(){return _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends.apply(this,arguments)}import PieChart from"/dist/JS/components/pie_chart.js";import NormalizeHeader from"/dist/JS/components/subcomponents/normalize.js";const e=React.createElement;class PieChartNormalized extends React.Component{constructor(a){super(a),this.onYVarChanged=this.onYVarChanged.bind(this),this.props.ycols=JSON.parse(this.props.ycols),this.state={loaded:!1,yvar:this.props.ycols[0].ycol}}componentDidMount(){this.props.chart=d3.select(this.props.chart).select(".pie-chart").node(),this.setState({loaded:!0})}onYVarChanged(a){this.setState({yvar:a.currentTarget.value})}getLabel(){for(var a=0;a<this.props.ycols.length;a++)if(this.props.ycols[a].ycol==this.state.yvar)return this.props.ycols[a].label}render(){let a=this.getLabel();return React.createElement("div",null,React.createElement(NormalizeHeader,{yvar:this.state.yvar,yVarHandler:this.onYVarChanged,id:this.props.id,ycols:this.props.ycols}),React.createElement("div",{class:"pie-chart"},this.state.loaded?React.createElement(PieChart,_extends({},this.props,{ycol:this.state.yvar,ylabel:a,linelabels:a})):null))}}// Render all pie charts
let elements=document.getElementsByClassName("pie-chart-normalized");for(let a=0;a<elements.length;a++)ReactDOM.render(e(PieChartNormalized,{...elements[a].dataset,chart:elements[a]}),elements[a]);